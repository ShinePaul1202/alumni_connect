{% extends 'core/base.html' %}
{% load static %}

{% block title %}Notifications | Settings{% endblock %}

{% block content %}
<head>
    <!-- CSS copied from your dashboard for identical design -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root { --sidebar-bg: #1e293b; --main-bg: #f8fafc; --text-dark: #0f172a; --text-light: #e2e8f0; --text-muted: #64748b; --primary-color: #3b82f6; --border-color: #e2e8f0; --card-bg: white; --shadow-color: rgba(99, 102, 241, 0.1); --sidebar-width: 260px; }
        body { background-color: var(--main-bg); color: var(--text-dark); font-family: 'Poppins', sans-serif; }
        .dashboard-container { display: flex; }
        .sidebar { width: var(--sidebar-width); background-color: var(--sidebar-bg); padding: 1.5rem; flex-shrink: 0; height: 100vh; position: sticky; top: 0; }
        .brand-logo { display: flex; align-items: center; gap: 0.75rem; color: #fff; text-decoration: none; font-size: 1.75rem; font-weight: 700; margin-bottom: 2.5rem; }
        .sidebar-nav .nav-item { display: flex; align-items: center; gap: 1rem; padding: 0.9rem 1rem; margin-bottom: 0.5rem; border-radius: 0.5rem; color: var(--text-light); text-decoration: none; transition: background-color 0.2s ease; }
        .sidebar-nav .nav-item:hover { background-color: rgba(255, 255, 255, 0.07); }
        .sidebar-nav .nav-item.active { background-color: var(--primary-color); color: #fff; font-weight: 500; }
        .sidebar-nav .nav-item.disabled { color: #64748b; pointer-events: none; }
        .main-content { flex-grow: 1; padding: 2.5rem; width: calc(100% - var(--sidebar-width)); }
        .card { background-color: var(--card-bg); border: none; border-radius: 1rem; box-shadow: 0 4px 6px var(--shadow-color); }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Main Sidebar -->
        <aside class="sidebar" id="sidebar">
            <a href="{% url 'core:home' %}" class="brand-logo"><span>AluLink</span></a>
            <nav class="sidebar-nav mt-3">
                {% if profile.user_type == 'alumni' %}
                    <a href="{% url 'core:alumni_dashboard' %}" class="nav-item"><span>Dashboard</span></a>
                {% else %}
                    <a href="{% url 'core:student_dashboard' %}" class="nav-item"><span>Dashboard</span></a>
                {% endif %}
                <a href="#" class="nav-item {% if not profile.is_verified %}disabled{% endif %}"><span>Find Alumni</span></a>
                <a href="#" class="nav-item {% if not profile.is_verified %}disabled{% endif %}"><span>Messages</span></a>
                <a href="{% url 'core:account_settings' %}" class="nav-item active"><span>Settings</span></a>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Breadcrumb Navigation -->
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb bg-transparent p-0 m-0">
                    <li class="breadcrumb-item"><a href="{% url 'core:account_settings' %}">Settings</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Notifications</li>
                </ol>
            </nav>
            
            {% if messages %}{% for message in messages %}<div class="alert alert-{{ message.tags }} mt-4">{{ message }}</div>{% endfor %}{% endif %}

            <!-- Form Content -->
            <div class="card mt-4"><div class="card-body p-4">
                <h3 class="fw-bold">Notification Settings</h3>
                <p class="text-muted">Control how you receive notifications from AluLink.</p>
                <hr class="my-4">
                <form method="post">
                    {% csrf_token %}
                    <div class="form-check form-switch fs-5 p-0 d-flex align-items-center">
                        <div class="flex-grow-1">
                            <label class="form-check-label fw-semibold" for="{{ settings_form.email_on_new_message.id_for_label }}">{{ settings_form.email_on_new_message.label }}</label>
                            <p class="text-muted small mb-0">Receive an email when a new message arrives in your inbox.</p>
                        </div>
                        {{ settings_form.email_on_new_message }}
                    </div>
                    <button type="submit" class="btn btn-primary mt-4">Save Preferences</button>
                </form>
            </div></div>
        </main>
    </div>
</body>
{% endblock %}
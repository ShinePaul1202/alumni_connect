<!-- core/templates/core/connection_requests.html -->

{% extends 'core/base.html' %}
{% load static %}

{% block title %}Connection Requests | AluLink{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="mb-4">Connection Requests</h1>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    {% if requests %}
        <div class="list-group">
            {% for req in requests %}
                <div class="list-group-item d-flex justify-content-between align-items-center">
                    <div>
                        <img src="{{ req.sender.profile.avatar.url }}" alt="" style="width:50px; height:50px; border-radius:50%; object-fit:cover;" class="me-3">
                        <strong>{{ req.sender.profile.full_name|default:req.sender.username }}</strong> wants to connect.
                    </div>
                    <div>
                        <a href="{% url 'core:respond_to_connection_request' request_id=req.id action='accept' %}" class="btn btn-success me-2">Accept</a>
                        <a href="{% url 'core:respond_to_connection_request' request_id=req.id action='decline' %}" class="btn btn-danger">Decline</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="card text-center py-5">
            <div class="card-body">
                <p class="text-muted">You have no pending connection requests.</p>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}